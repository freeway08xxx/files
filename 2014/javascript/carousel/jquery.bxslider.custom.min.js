;(function($){var Y={};var Z={slideSelector:'',infiniteLoop:false,speed:350,slideMargin:0,startSlide:0,wrapperClass:'t-bx__wrapper',touchEnabled:true,swipeThreshold:20,preventDefaultSwipeX:true,preventDefaultSwipeY:true,pager:false,pagerClick:true,pagerLarge:false,controls:false,auto:false,pause:4500,appearArrowNum:-1,moveSlides:0,slideWidth:0,centering:false,loadAnimation:false,showBothImg:false,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSliderResize:function(){}};$.fn.bxSlider=function(v){if(this.length==0)return this;if(this.length>1){this.each(function(){$(this).bxSlider(v)});return this}var w={};var x=this;Y.el=this;var y=$(window).width();var z=$(window).height();var A=function(){w.settings=$.extend({},Z,v);w.settings.slideWidth=parseInt(w.settings.slideWidth);w.children=x.children(w.settings.slideSelector);if(w.settings.loadAnimation){var c=x.find('> div').length-1;w.active={index:c}}else{w.active={index:w.settings.startSlide}}w.carousel=1>1;if(w.carousel){w.settings.preloadImages='all'};w.minThreshold=w.settings.slideWidth;w.maxThreshold=w.settings.slideWidth;w.working=false;w.controls={};w.interval=null;w.usingCSS=(function(){var a=document.createElement('div');var b=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in b){if(a.style[b[i]]!==undefined){w.cssPrefix=b[i].replace('Perspective','').toLowerCase();w.animProp='-'+w.cssPrefix+'-transform';return true}};return false}());setup()};setup=function(){x.wrap('<div style="max-width:100%;" class="'+w.settings.wrapperClass+'"><div class="t-bx__viewport"></div></div>');w.viewport=x.parent();w.viewport.prepend(w.loader);x.css({width:(w.children.length*100+215)+'%',position:'relative'});var a=G();w.viewport.css({width:'100%',overflow:'hidden',position:'relative'});w.children.css({'float':'left',position:'relative'});w.children.css('width',F());if(w.settings.slideMargin>0){w.children.css('marginRight',w.settings.slideMargin)};if(w.settings.slideMargin>0){w.children.css('marginBottom',w.settings.slideMargin)};w.controls.el=$('<div class="t−bx__controls" />');w.active.last=w.settings.startSlide==H()-1;var b=w.children.eq(w.settings.startSlide);if(w.settings.preloadImages=="all"){b=w.children};if(w.settings.pager){M()};if(w.settings.pager){w.viewport.after(w.controls.el)};B(b,C)};var B=function(a,b){var c=a.find('img').length;if(c==0){b();return}var d=0;a.find('img').each(function(){$(this).one('load',function(){if(++d==c)b()}).each(function(){if(this.complete)$(this).load()})})};var C=function(){if(w.settings.infiniteLoop){var a=1;var d=2;var b=w.children.slice(0,a).clone().addClass('t-bx__clone');var e=w.children.slice(1,d).clone().addClass('t-bx__clone');var c=w.children.slice(-a).clone().addClass('t-bx__clone');x.append(b).prepend(c);x.append(e)}J();w.viewport.height(D());x.redrawSlider();w.settings.onSliderLoad(w.active.index);w.initialized=true;if(w.settings.auto&&(H()>1)){T()};if(w.settings.pager){Q(w.settings.startSlide)};if(w.settings.controls){updateDirectionControls()};if(w.settings.touchEnabled){U()};if(w.settings.showBothImg){w.settings.swipeThreshold=5;x.find('> div').css('text-align','center');var f=0;if((x.find('> div')).hasClass('t-bx__clone')){f=f+1}x.find('> div').eq(f).addClass('current');var g=10;var h=x.find('img').length;if(h<=3){x.find('.t-bx__clone').remove()};x.find('.current').prev('div').addClass('js-t-prevCurrent');x.find('.current').next('div').addClass('js-t-nextCurrent');x.find('.js-t-nextCurrent').css({'margin-left':'-20px','text-align':'left'});resize();$(window).resize(function(){resize()});x.find('.t-bx__pager-link').on('click',function(){pagerClick($(this))});x.find('img').css('max-width','300px');var i=x.find('.current img').width();if(i>=270){$('.js-t-nextCurrent').css('visibility','hidden')}if(i>=270){$('.js-t-nextCurrent').css('visibility','hidden')}};if(w.settings.centering){var j=w.settings.slideWidth/2;x.wrap('<div class="bx" style="width:'+w.settings.slideWidth+'px;position:absolute;left:50%;margin-left:-'+j+'px;overflow:hidden;"></div>')}if(w.settings.loadAnimation){var k=true;var l=w.settings.speed;w.settings.speed=1350;setTimeout(function(){x.goToSlide(0)},700);if(k){w.settings.onSlideAfter=function(){w.settings.speed=l;k=false}}};if(w.settings.appearArrowNum>=0){var m=x.attr('class').split(' ');var n=$('.'+m[0]+' img').length-1;if(n>=w.settings.appearArrowNum){x.before('<div class="t-bx__arrow" style="position:absolute;z-index:1;"><p>⇒</p></div>')}}};var D=function(){var a=0;var b=$();if(!w.carousel){b=w.children.eq(w.active.index)}else{var c=w.settings.moveSlides==1?w.active.index:w.active.index*I();b=w.children.eq(c);for(i=1;i<=1-1;i++){if(c+i>=w.children.length){b=b.add(w.children.eq(i-1))}else{b=b.add(w.children.eq(c+i))}}}a=Math.max.apply(Math,b.map(function(){return $(this).outerHeight(false)}).get());if(w.viewport.css('box-sizing')=='border-box'){a+=parseFloat(w.viewport.css('padding-top'))+parseFloat(w.viewport.css('padding-bottom'))+parseFloat(w.viewport.css('border-top-width'))+parseFloat(w.viewport.css('border-bottom-width'))}else if(w.viewport.css('box-sizing')=='padding-box'){a+=parseFloat(w.viewport.css('padding-top'))+parseFloat(w.viewport.css('padding-bottom'))}return a};var E=function(){var a='100%';if(w.settings.slideWidth>0){a=w.settings.slideWidth}return a};var F=function(){var a=w.settings.slideWidth;var b=w.viewport.width();if(w.settings.slideWidth==0||(w.settings.slideWidth>b&&!w.carousel)){}else if(1>1){if(b>w.maxThreshold){}else if(b<w.minThreshold){a=b}}return a};var G=function(){var a=1;if(w.settings.slideWidth>0){if(w.viewport.width()<w.minThreshold){a=1}else if(w.viewport.width()>w.maxThreshold){a=1}else{var b=w.children.first().width()+w.settings.slideMargin;a=Math.floor((w.viewport.width()+w.settings.slideMargin)/b)}}return a};var H=function(){var a=0;if(w.settings.moveSlides>0){if(w.settings.infiniteLoop){a=Math.ceil(w.children.length/I())}else{var b=0;var c=0;while(b<w.children.length){++a;b=c+G();c+=w.settings.moveSlides<=G()?w.settings.moveSlides:G()}}}else{a=Math.ceil(w.children.length/G())};return a};var I=function(){if(w.settings.moveSlides>0&&w.settings.moveSlides<=G()){return w.settings.moveSlides}return G()};var J=function(){if(w.children.length>1&&w.active.last&&!w.settings.infiniteLoop){var a=w.children.last();var b=a.position();K(-(b.left-(w.viewport.width()-a.outerWidth())),'reset',0)}else{var b=w.children.eq(w.active.index*I()).position();if(w.active.index==H()-1)w.active.last=true;if(b!=undefined){K(-b.left,'reset',0)}}};var K=function(a,b,c,d){if(w.usingCSS){var e='translate3d('+a+'px, 0, 0)';x.css('-'+w.cssPrefix+'-transition-duration',c/1000+'s');if(b=='slide'){x.css(w.animProp,e);setTimeout(function(){R()},300);x.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){x.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd')})}else if(b=='reset'){x.css(w.animProp,e)}}};var L=function(){var a='';var b=H();if(w.settings.pagerLarge){w.pagerEl.addClass('t-bx__large-pager')}else{w.pagerEl.addClass('t-bx__default-pager')}for(var i=0;i<b;i++){var c='';c=i+1;if(w.settings.pagerClick){a+='<div class="t-bx__pager-item"><a href="" data-slide-index="'+i+'" class="t-bx__pager-link">'+c+'</a></div>'}else{a+='<div class="t-bx__pager-item"><a style="-webkit-tap-highlight-color:rgba(0,0,0,0);" href="" data-slide-index="'+i+'" class="t-bx__pager-link">'+c+'</a></div>'}};w.pagerEl.html(a)};var M=function(){w.pagerEl=$('<div class="t-bx__pager" />');w.controls.el.addClass('bx-has-pager').append(w.pagerEl);L();w.pagerEl.on('click','a',P)};var N=function(e){x.startAuto();e.preventDefault()};var O=function(e){e.preventDefault()};var P=function(e){if(w.settings.pagerClick){var a=$(e.currentTarget);var a=$(e.currentTarget);if(a.attr('data-slide-index')!==undefined){var b=parseInt(a.attr('data-slide-index'));if(b<=w.active.index){x.goToSlide(b,'prev');e.preventDefault()}else if(b!=w.active.index){x.goToSlide(b,'next');e.preventDefault()}}}else{e.preventDefault()}};var Q=function(b){var c=w.children.length;w.pagerEl.find('a').removeClass('active');w.pagerEl.each(function(i,a){$(a).find('a').eq(b).addClass('active')})};var R=function(){if(w.settings.infiniteLoop){var a='';if(w.active.index==0){a=w.children.eq(0).position()}else if(w.active.index==H()-1&&w.carousel){a=w.children.eq((H()-1)*I()).position()}else if(w.active.index==w.children.length-1){a=w.children.eq(w.children.length-1).position()}if(a){K(-a.left,'reset',0)}}w.working=false;w.settings.onSlideAfter(w.children.eq(w.active.index),w.oldIndex,w.active.index);if(w.settings.showBothImg){resize()}};var S=function(a){w.controls.autoEl.find('a').removeClass('active');w.controls.autoEl.find('a:not(.bx-'+a+')').addClass('active')};var T=function(){x.startAuto()};var U=function(){w.touch={start:{x:0,y:0},end:{x:0,y:0}};w.viewport.bind('touchstart',V)};var V=function(e){x.stopAuto();if(w.working){e.preventDefault()}else{w.touch.originalPos=x.position();var a=e.originalEvent;w.touch.start.x=a.changedTouches[0].pageX;w.touch.start.y=a.changedTouches[0].pageY;w.viewport.bind('touchmove',W);w.viewport.bind('touchend',X)}};var W=function(e){if(w.settings.showBothImg){x.find('.js-t-nextCurrent, .js-t-prevCurrent').css({'text-align':'center','margin':'0 auto'});x.find('> div').removeClass('current js-t-nextCurrent js-t-prevCurrent');x.find('.js-clone-next,.js-clone-prev').remove()};var a=e.originalEvent;var b=Math.abs(a.changedTouches[0].pageX-w.touch.start.x);var c=Math.abs(a.changedTouches[0].pageY-w.touch.start.y);if((b*3)>c&&w.settings.preventDefaultSwipeX){e.preventDefault()}else if((c*3)>b&&w.settings.preventDefaultSwipeY){e.preventDefault()}var d=0;var f=a.changedTouches[0].pageX-w.touch.start.x;d=w.touch.originalPos.left+f;K(d,'reset',0)};var X=function(e){w.viewport.unbind('touchmove',W);var a=e.originalEvent;var b=0;w.touch.end.x=a.changedTouches[0].pageX;w.touch.end.y=a.changedTouches[0].pageY;var c=0;c=w.touch.end.x-w.touch.start.x;b=w.touch.originalPos.left;if(!w.settings.infiniteLoop&&((w.active.index==0&&c>0)||(w.active.last&&c<0))){K(b,'reset',200)}else{if(Math.abs(c)>=w.settings.swipeThreshold){c<0?x.goToNextSlide():x.goToPrevSlide()}else{K(b,'reset',200)}}w.viewport.unbind('touchend',X);if(w.settings.auto){T()}};x.goToSlide=function(a,b){if(w.working||w.active.index==a)return;w.working=true;w.oldIndex=w.active.index;if(a<0){w.active.index=H()-1}else if(a>=H()){w.active.index=0}else{w.active.index=a}w.settings.onSlideBefore(w.children.eq(w.active.index),w.oldIndex,w.active.index);if(w.settings.showBothImg){$(x).prevAll('.js-clone-prev,.js-clone-next').remove();$(x).parent('.t-bx__viewport').prev('.t-bx__pager-link').on('click',function(){pagerClick($(this))})};w.active.last=w.active.index>=H()-1;if(w.settings.pager){Q(w.active.index)};var c=0;var d={left:0,top:0};if(!w.settings.infiniteLoop&&w.carousel&&w.active.last){var e=w.children.eq(w.children.length-1);d=e.position();c=w.viewport.width()-e.outerWidth()}else if(w.carousel&&w.active.last&&b=='prev'){var f=w.settings.moveSlides==1?1-I():((H()-1)*I())-(w.children.length-1);var e=x.children('.t-bx__clone').eq(f);d=e.position()}else if(b=='next'&&w.active.index==0){d=x.find('> .t-bx__clone').eq(1).position();w.active.last=false}else if(a>=0){var g=a*I();d=w.children.eq(g).position()};if("undefined"!==typeof(d)){var h=-(d.left-c);K(h,'slide',w.settings.speed)}if(w.settings.showBothImg){var i=x.find('> div');var j=x.attr('class').split(' ');j=('.'+j[0]);i.css({'visibility':'visible','margin':'0'}).removeClass('current js-t-nextCurrent js-t-prevCurrent');if(w.settings.infiniteLoop){i.eq(w.active.index+1).addClass('current')}else{i.eq(w.active.index).addClass('current')};var k=x.find('.current');var l=$(window).width();k.css({'text-align':'center','width':l,'margin':0,'z-index':51});$(k).next('div').addClass('js-t-nextCurrent');$(k).prev('div').addClass('js-t-prevCurrent');x.find('.js-t-prevCurrent').clone(true).insertBefore(x).attr('class','js-clone-prev').removeClass('.js-t-prevCurrent').hide();x.find('.js-t-nextCurrent').clone(true).insertBefore(x).attr('class','js-clone-next').removeClass('.js-t-nextCurrent').hide();var m=x.find('.current img').width();var n=x.find('.js-t-prevCurrent img').width();var o=x.find('.js-t-nextCurrent img').width();var p=-(n-20);var q=-(o-20);var r=x.prevAll('.js-clone-prev');var s=x.prevAll('.js-clone-next');var t=x.find('.js-t-prevCurrent');var u=x.find('.js-t-nextCurrent');r.css({'position':'absolute','left':p,'top':0,'width':'auto','display':'none','z-index':0});s.css({'position':'absolute','right':q,'top':0,'width':'auto','display':'none','z-index':0});if(b=='next'){r.css('display','block');u.css({'margin-left':'-20px','text-align':'left'})}else if(b=='prev'){s.css('display','block');l=l+20;t.css({'margin-right':'-20px','text-align':'right','width':l+'px'})}if(m>=280){x.prevAll('.js-clone-prev,.js-clone-next').css('visibility','hidden');x.find('.js-t-nextCurrent,.js-t-prevCurrent').css('visibility','hidden')}}};x.goToNextSlide=function(){if(!w.settings.infiniteLoop&&w.active.last){return};var a=parseInt(w.active.index)+1;x.goToSlide(a,'next')};x.goToPrevSlide=function(){if(!w.settings.infiniteLoop&&w.active.index==0){return};var a=parseInt(w.active.index)-1;x.goToSlide(a,'prev')};x.startAuto=function(a){if(w.interval){return};w.interval=setInterval(function(){x.goToNextSlide()},w.settings.pause);if(w.settings.autoControls&&a!=true){S('stop')}};x.stopAuto=function(a){if(!w.interval)return;clearInterval(w.interval);w.interval=null;if(w.settings.autoControls&&a!=true)S('start')};x.getCurrentSlide=function(){return w.active.index};x.getCurrentSlideElement=function(){return w.children.eq(w.active.index)};x.getSlideCount=function(){return w.children.length};x.redrawSlider=function(){w.children.add(x.find('.t-bx__clone')).width(F());w.viewport.css('height',D());if(w.active.last){w.active.index=H()-1};if(w.active.index>=H()){w.active.last=true};if(w.settings.pager){Q(w.active.index)}};function resize(){var a=x.find('.js-t-prevCurrent').css('margin-right');if(a=='-20px'){var b=-20}else{b=0};var c=$(window).width();var d=x.find('> div').index(x.find('.current'));var e=(c*d)+b;x.css({'transform':'translate3d('+ -e+'px, 0, 0)','-webkit-transition':'-webkit-transform 0ms'});x.find('> div').css({'width':c,});x.find('> div').not('.js-t-nextCurrent,.js-t-prevCurrent').css({'margin':0,})}function pagerClick(a){var b=x.find('> div');var c=$(a).data('slide-index');b.removeClass('current js-t-nextCurrent js-t-prevCurrent');b.eq(c).addClass('current')}A();return this}})(jQuery);