<div class="template">
	<h5 class="title">
		<span class="glyphicon glyphicon-paste"></span>
		テンプレート
	</h5>

	<div class="template-info-box well well-sm">
		<span class="label label-success">選択中</span>
		<small ng-cloak>{{template.models.list[template.models.selected_index].template_name}}</small>
	</div>

	<div class="template-list-wrap" id="templateList" ng-show="template.models.list">
		<table class="template-list table table-hover table-bordered">
			<tr class="" ng-repeat="item in template.models.list">
				<td ng-click="template.apply($index)">
					<div class="title-row clearfix">
						<div class="name pull-left">{{item.template_name}}</div>
						<div class="pull-right">
							<button type="button" class="btn btn-xs btn-default"
							 ng-click="template.info($event)"
							 popover-html-unsafe="<span class='label label-default'>更新日</span><br>{{item.datetime}} <br><span class='label label-default'>更新者</span><br>{{item.user_name}} <br><span class='label label-default'>メモ</span><br>{{item.template_memo}}" popover-placement="left">
								<span class="glyphicon glyphicon-option-horizontal"></span>
							</button>

							<button type="button" class="btn btn-xs btn-danger"
							 ng-click="template.delete($event, $index)">
								<span class="glyphicon glyphicon-trash"></span>
							</button>
						</div>
					</div>
					<span class="info-panel label label-primary summary_type">
						{{item.category_type_id | clip:'3'}}
					</span>
					<span class="info-panel label {{template.getReportTypeColor(item.report_type)}}">
						<span class="glyphicon glyphicon-search"></span>
						{{common.config.report.report_type[item.report_type].name}}
					</span>
					<span class="info-panel label label-default">
						<span class="glyphicon glyphicon-time"></span>
						{{common.config.report.report_term.all[item.report_term]}}
					</span>
				</td>
			</tr>
		</table>
	</div>

	<p ng-show="!template.models.list">テンプレートが存在しません。</p>

</div>